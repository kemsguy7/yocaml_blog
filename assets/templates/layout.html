<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% if page_title %}{{ page_title }} - {% endif %}Joy's Blog</title>
    {% if description %}
    <meta name="description" content="{{ description }}" />
    {% endif %}
    <link rel="stylesheet" href="/style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
  </head>
  <body>
    <div class="background-gradient"></div>

    <nav class="navbar">
      <div class="nav-container">
        <div class="nav-logo">
          <a href="/">
            <span class="logo-icon">✨</span>
            <span>Joy's Blog</span>
          </a>
        </div>
        <ul class="nav-menu">
          <li><a href="/" class="nav-link">Home</a></li>
          <li><a href="/about.html" class="nav-link">About</a></li>
          <li><a href="/contact.html" class="nav-link">Contact</a></li>
          <li><a href="/atom.xml" class="nav-link">RSS</a></li>
        </ul>
      </div>
    </nav>

    <main class="main-content">
      <div class="content-wrapper">{{ yocaml_body | safe }}</div>
    </main>

    <footer class="footer">
      <div class="footer-content">
        <div class="footer-animation">
          <lottie-player
            src="https://assets2.lottiefiles.com/packages/lf20_w98qte06.json"
            background="transparent"
            speed="1"
            style="width: 80px; height: 80px"
            loop
            autoplay
          >
          </lottie-player>
        </div>
        <p class="footer-text">Made with <span class="heart">♥</span> using YOCaml</p>
        <p class="footer-copyright">&copy; 2025 Joy Aruku. All rights reserved.</p>
      </div>
    </footer>

    <script>
      // Smooth scroll for navigation links
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start',
            });
          }
        });
      });

      // Add active state to current nav link
      const currentPath = window.location.pathname;
      document.querySelectorAll('.nav-link').forEach((link) => {
        if (
          link.getAttribute('href') === currentPath ||
          (currentPath === '/' && link.getAttribute('href') === '/')
        ) {
          link.style.color = 'var(--apple-blue)';
          link.style.background = 'rgba(0, 122, 255, 0.1)';
        }
      });
    </script>
  </body>
</html>
